(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{51:function(e,a,t){e.exports=t(93)},56:function(e,a,t){},93:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(18),s=t.n(l),c=t(9),i=t(10),o=t(12),m=t(11),u=t(13),d=(t(56),t(23)),h=t.n(d),p=t(27),g=t(19),E=t(111),f=t(112),v=t(113),b=t(94),y=t(95),O=t(96),w=t(97),j=t(98),N=t(99),S=t(100),C=t(101),k=t(102),D=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={isOpen:!1,userInfo:JSON.parse(localStorage.getItem("credentials"))},t.toggle=function(){t.setState({isOpen:!t.state.isOpen})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state,a=e.userInfo,t=e.isOpen;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{color:"light",light:!0,expand:"md",className:"shadow-sm fixed-top"},r.a.createElement(y.a,null,"NYT Best Seller's Reviews"),r.a.createElement(O.a,{onClick:this.toggle}),r.a.createElement(w.a,{isOpen:t,navbar:!0},r.a.createElement(j.a,{className:"ml-auto",navbar:!0},r.a.createElement(N.a,{nav:!0,inNavbar:!0},r.a.createElement(S.a,{nav:!0,caret:!0},a.user),r.a.createElement(C.a,{right:!0},r.a.createElement(k.a,{onClick:this.props.logout},"Logout")))))))}}]),a}(n.Component),x=t(103),T=t(104),I=t(105),L=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={dropdownOpen:!1,term:""},t.handleChange=function(e){t.setState({term:e.target.value})},t.toggleDropDown=function(){t.setState({dropdownOpen:!t.state.dropdownOpen})},t.onClickHandler=function(e){var a=e.target.name,n=t.state.term;n&&(t.setState({term:""}),t.props.getSearchTerm({by:a,term:n}))},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state.term;return r.a.createElement(x.a,{className:"search-input"},r.a.createElement(T.a,{onChange:this.handleChange,value:this.state.term,placeholder:"enter search term here"}),r.a.createElement(I.a,{addonType:"append",isOpen:this.state.dropdownOpen,toggle:this.toggleDropDown},r.a.createElement(S.a,{caret:!0,outline:!0,color:"info"},"Search by..."),r.a.createElement(C.a,null,r.a.createElement(k.a,{name:"author",disabled:!e,onClick:this.onClickHandler},"Author"),r.a.createElement(k.a,{name:"title",disabled:!e,onClick:this.onClickHandler},"Title"))))}}]),a}(n.Component),P=t(29),V=t.n(P),A=t(46),R=t(106),F=t(107),J=t(108),_=t(109),H=t(110);function M(e){var a=e.data,t=e.type;return r.a.createElement(R.a,{className:"result-item shadow-sm"},r.a.createElement(F.a,null,r.a.createElement(J.a,null,"Review by ",a.byline,",",r.a.createElement("small",{className:"text-muted ml-2"},"published on ",a.publication_dt)),r.a.createElement(_.a,null,"author"===t?"Title ":"Authored by ",r.a.createElement("strong",null,"author"===t?a.book_title:a.book_author)),r.a.createElement(H.a,{href:a.url,target:"_blank"},"go to review...")))}function z(){return r.a.createElement("div",{className:"nothing-found"},"No results found for following term, please try again with a different term.")}var B="ITRgdR439cpszVmLRlnryw4jdtf24EhS";function U(){return r.a.createElement("div",{className:"text-center loading-mask"},r.a.createElement("div",{className:"spinner-grow text-primary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),r.a.createElement("div",{className:"spinner-grow text-primary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),r.a.createElement("div",{className:"spinner-grow text-primary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),r.a.createElement("div",{className:"spinner-grow text-primary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}var Y=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={by:"",searchData:null,loading:!1},t.getResults=function(){var e=t.state,a=e.searchData,n=e.by;if(a.length){var l=a.map(function(e,a){return r.a.createElement(M,{key:a,data:e,type:n})});return r.a.createElement("div",null,r.a.createElement("small",{className:"results-found"},"results found:",a.length),l)}return r.a.createElement(z,null)},t.getSearchData=function(){var e=t.props.searchTermData;e&&t.searchTerm(e)},t.searchTerm=function(){var e=Object(A.a)(V.a.mark(function e(a){var n,r,l;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.by,r=a.term,"author"===n&&(r=r.replace(/\s+/g,"%20")),e.next=4,h.a.get("reviews.json?".concat(n,"=").concat(r,"&api-key=").concat(B));case 4:(l=e.sent).data&&t.getData(n,l.data.results);case 6:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.getData=function(e,a){t.setState({by:e,searchData:a,loading:!1})},t.getLoadingMask=function(){return r.a.createElement(U,null)},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,a){this.state.searchData===a.searchData&&(this.state.loading||this.setState({loading:!0}),this.getSearchData())}},{key:"render",value:function(){var e=this.state,a=e.searchData,t=e.loading;return r.a.createElement(r.a.Fragment,null,a&&!t?this.getResults():"",t?this.getLoadingMask():"")}}]),a}(n.Component),q=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={searchTermData:null},t.logout=function(){localStorage.clear(),t.props.history.push("/login")},t.getSearchTerm=function(e){t.setState({searchTermData:e})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(D,{logout:this.logout}),r.a.createElement(E.a,{className:"home-page-container"},r.a.createElement(f.a,null,r.a.createElement(v.a,null,r.a.createElement(L,{getSearchTerm:this.getSearchTerm}))),r.a.createElement(f.a,null,r.a.createElement(v.a,null,r.a.createElement(Y,{searchTermData:this.state.searchTermData})))))}}]),a}(n.Component),G=t(50),K=function(e){var a=e.component,t=Object(G.a)(e,["component"]);return r.a.createElement(g.b,Object.assign({},t,{render:function(e){var t=r.a.createElement(a,e);return localStorage.getItem("credentials")||(t=r.a.createElement(g.a,{to:{pathname:"/login",state:{from:e.location}}})),t}}))};function Q(){return r.a.createElement("div",{className:"container h-100"},r.a.createElement("div",{className:"row h-100 justify-content-center align-items-center"},r.a.createElement("h1",null," Page Not Found :(")))}var W=t(31),X=t(49),Z=t(114),$=t(115),ee=t(116),ae=t(45),te=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={email:"",password:"",isEmailValid:!1,isPasswordValid:!1,invalidCredentials:!1},t.handleChange=function(e){var a,n=e.target,r=n.name,l=n.value;if(t.setState((a={},Object(W.a)(a,r,l),Object(W.a)(a,"invalidCredentials",!1),a)),"email"===r){var s=X.validate(l);t.setState({isEmailValid:s})}else{var c=l.length>5;t.setState({isPasswordValid:c})}},t.submitForm=function(e){e.preventDefault();var a=t.state,n=a.email,r=a.password;t.validateCredentials(n,r)?(localStorage.setItem("credentials",JSON.stringify({user:"test@gmail.com"})),t.props.history.push("/")):t.setState({invalidCredentials:!0})},t.validateCredentials=function(e,a){var t=!1;return"test@gmail.com"===e&&"test123"===a&&(t=!0),t},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state,a=e.isEmailValid,t=e.isPasswordValid,n=e.invalidCredentials,l=a&&t;return r.a.createElement(E.a,{className:"h-100"},r.a.createElement(f.a,{className:"align-items-center h-100"},r.a.createElement(v.a,{sm:"12",md:{size:6,offset:3}},r.a.createElement(Z.a,{className:"p-4 border shadow-sm",onSubmit:this.submitForm},r.a.createElement("h5",{className:"text-uppercase mb-4"},"Sign In"),r.a.createElement($.a,null,r.a.createElement(ee.a,{className:"email-label"},"Email",r.a.createElement("span",{className:"text-danger float-right"},l&&n?"Invalid Credentials. Please, try again.":"")),r.a.createElement(T.a,{type:"email",name:"email",id:"userEmail",placeholder:"enter email address here",valid:this.state.isEmailValid,onChange:this.handleChange})),r.a.createElement($.a,null,r.a.createElement(ee.a,{for:"examplePassword"},"Password"),r.a.createElement(T.a,{type:"password",name:"password",id:"userPassword",placeholder:"*******",valid:this.state.isPasswordValid,onChange:this.handleChange})),r.a.createElement("div",{className:"clearfix"},r.a.createElement(ae.a,{outline:!0,color:"primary",className:"float-right",disabled:!l},"Submit"))))))}}]),a}(n.Component),ne=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){h.a.defaults.baseURL="https://api.nytimes.com/svc/books/v3"}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p.a,null,r.a.createElement(g.d,null,r.a.createElement(K,{exact:!0,path:"/",component:q}),r.a.createElement(g.b,{path:"/login",component:te}),r.a.createElement(g.b,{component:Q}))))}}]),a}(n.Component);s.a.render(r.a.createElement(ne,null),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.1e77d937.chunk.js.map